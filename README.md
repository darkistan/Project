# Telegram Bot –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞–º–∏

–¶–µ–π –±–æ—Ç –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∏ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞—Ö —á–µ—Ä–µ–∑ SSH –∑ Telegram.

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- üîê –ë–µ–∑–ø–µ—á–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∑ –¥–≤–æ–º–∞ —Ä—ñ–≤–Ω—è–º–∏ –ø–∞—Ä–æ–ª—ñ–≤
- üåê –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–Ω–æ–∂–∏–Ω–Ω–∏—Ö –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ñ–≤
- üë• –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- üìù –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–æ–≤—Ç–æ—Ä–Ω—ñ —Å–ø—Ä–æ–±–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
- üì± –ó—Ä—É—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑ –∫–Ω–æ–ø–∫–∞–º–∏
- üõ°Ô∏è –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –≤–∏—Ç–æ–∫—É –ø–∞—Ä–æ–ª—ñ–≤ —É –ª–æ–≥–∞—Ö

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:
```bash
git clone <repository_url>
cd telegram-router-bot
```

2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
pip install -r requirements_updated.txt
```

3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é:
```bash
cp config_example.py config.py
cp routers_example.json routers.json
```

4. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ä–µ–∞–ª—å–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ —Ñ–∞–π–ª–∏ `config.py` —Ç–∞ `routers.json`

5. –°—Ç–≤–æ—Ä—ñ—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –¥–ª—è –ª–æ–≥—ñ–≤:
```bash
mkdir logs
```

6. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:
```bash
python bot_improved.py
```

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### config.py
- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞
- `ADMIN_1_ID`, `ADMIN_2_ID` - ID –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤
- `ADMIN_BOT_1_TOKEN`, `ADMIN_BOT_2_TOKEN` - —Ç–æ–∫–µ–Ω–∏ –±–æ—Ç—ñ–≤ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω—å

### routers.json
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ñ–≤:
```json
{
  "ROUTER_NAME": {
    "ip": "IP_ADDRESS",
    "username": "SSH_USERNAME",
    "ssh_password": "SSH_PASSWORD",
    "script_password": "SCRIPT_EXECUTION_PASSWORD",
    "ssh_port": 22,
    "scripts": ["script1", "script2"],
    "allowed_users": ["user_id1", "user_id2"],
    "description": "Router description"
  }
}
```

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ—é `/start`
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `/run_script` –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—ñ–≤
3. –í–∏–±–µ—Ä—ñ—Ç—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –∑—ñ —Å–ø–∏—Å–∫—É
4. –í–∏–±–µ—Ä—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
5. –í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è

## –ö–æ–º–∞–Ω–¥–∏

- `/start` - –ü–æ—á–∞—Ç–æ–∫ —Ä–æ–±–æ—Ç–∏ –∑ –±–æ—Ç–æ–º
- `/run_script` - –í–∏–∫–æ–Ω–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ñ
- `/id` - –ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –¥–æ—Å—Ç—É–ø (–¥–ª—è –Ω–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
- `/help` - –ü–æ–∫–∞–∑–∞—Ç–∏ –¥–æ–ø–æ–º–æ–≥—É

## –ë–µ–∑–ø–µ–∫–∞

- –ü–∞—Ä–æ–ª—ñ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ª–æ–≥–∞—Ö
- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –ø–∞—Ä–æ–ª—è–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É
- –í—Å—ñ –¥—ñ—ó –ª–æ–≥—É—é—Ç—å—Å—è –¥–ª—è –∞—É–¥–∏—Ç—É
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–∞–π–º-–∞—É—Ç—ñ–≤ –¥–ª—è SSH –∑'—î–¥–Ω–∞–Ω—å

## –õ–æ–≥—É–≤–∞–Ω–Ω—è

–õ–æ–≥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `logs/` –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é —Ä–æ—Ç–∞—Ü—ñ—î—é:
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É: 10 –ú–ë
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π: 5
- –§–æ—Ä–º–∞—Ç: `YYYY-MM-DD HH:MM:SS - LEVEL - MESSAGE`

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –∑ –±–µ–∑–ø–µ–∫–∏

1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∏–ª—å–Ω—ñ –ø–∞—Ä–æ–ª—ñ –¥–ª—è SSH —Ç–∞ —Å–∫—Ä–∏–ø—Ç—ñ–≤
2. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ —Ç–æ–∫–µ–Ω–∏ –±–æ—Ç—ñ–≤
3. –û–±–º–µ–∂—É–π—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ —Ñ–∞–π–ª—ñ–≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
4. –ú–æ–Ω—ñ—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø—ñ–¥–æ–∑—Ä—ñ–ª–æ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
5. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ VPN –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É